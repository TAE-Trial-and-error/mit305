<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>입고처리</title>
    <link href="/css/ALL.css" rel="stylesheet"/>
    <script src="http://code.jquery.com/jquery-latest.min.js"></script>

</head>
<body>
    <h1>입고처리</h1>
<!--    <div id="searcharea">-->
<!--        <form id="ReceivingProcessSearch">-->
<!--            <table border="1">-->
<!--                <tr>-->
<!--                    <td><input id="inputData" type="text" name="inputData"></td>-->
<!--                    <td>-->
<!--                        <select id="searchData" name="searchData">-->
<!--                            <option value="품목명">품목명</option>-->
<!--                            <option value="업체명">업체명</option>-->
<!--                        </select>-->
<!--                    </td>-->

<!--                    <td>-->
<!--                        <select id="searchState" name="searchState">-->
<!--                            <option value="전체">전체</option>-->
<!--                            <option value="검수완료">검수완료</option>-->
<!--                            <option value="마감">마감</option>-->

<!--                        </select>-->
<!--                    </td>-->
<!--                    <td><button type="button" id="serchbutton" onclick="searchButton()">검색</button> </td>-->
<!--                </tr>-->
<!--            </table>-->
<!--        </form>-->
<!--    </div>-->

    <div class="relative w-full overflow-auto">
        <table class="table-style">
            <thead>
                <tr style="position: sticky;  top: 0;  background-color: #f2f2f2;">
                    <th class="table-header">품목코드</th>
                    <th class="table-header">품목명</th>
                    <th class="table-header">업체명</th>
                    <th class="table-header">사업자번호</th>
                    <th class="table-header">발주서 발행일</th>
                    <th class="table-header">발주일</th>
                    <th class="table-header">입고일</th>
                    <th class="table-header">조달예정수량</th>
                    <th class="table-header">입고수량</th>
                    <th class="table-header">품목처리상태</th>
                    <th class="table-header">입고처리버튼</th>
                </tr>
            </thead>

            <tbody id="tableBody">
                <tr th:each="list : ${procumentList}" th:id="row+${list.procurementplan_code}">
                        <td class="table-data" hidden="hidden"><input th:id="code+${list.procurementplan_code}" class="input-form-style" type="text" name="procurementplan_code" th:value="${list.procurementplan_code}" readonly></td>
                        <td class="table-data" th:text="${list.productcode}">품목코드</td>
                        <td class="table-data" th:text="${list.productname}">품목명</td>
                        <td class="table-data" th:text="${list.departName}">업체명</td>
                        <td class="table-data" th:text="${list.businessNumber}">사업자번호</td>
                        <td class="table-data" th:text="${list.DateOfOrder}">발주서발행일</td>
                        <td class="table-data" th:text="${list.OrderDate}">발주일</td>
                        <td class="table-data" th:unless="${#temporals.format(list.Arrival,'yyyy-MM-dd HH:mm') eq '0001-01-01 00:00'}" th:text="${#temporals.format(list.Arrival,'yyyy-MM-dd HH:mm')}" >기본값이 아닐경우 시간 보여줌</td>
                        <td class="table-data" th:if="${#temporals.format(list.Arrival,'yyyy-MM-dd HH:mm') eq '0001-01-01 00:00'}">입고처리하지 않음</td> <!--기본값 일시 이출력문구 보여줌-->
                        <td class="table-data" th:text="${list.SupportProductAmount}">조달예정수량</td>
                        <td class="table-data" style="width:100px;"><input th:id="store+${list.procurementplan_code}" type="number" name="store"></td>
                        <td class="table-data" th:text="${list.orderState}">품목처리상태</td>
                        <td class="table-data" th:if="${#temporals.format(list.Arrival,'yyyy-MM-dd HH:mm') eq '0001-01-01 00:00'}">
                            <button th:onclick="'sendData(\'' + ${list.procurementplan_code} + '\')'" style="background-color: blue; color: white;">입고처리</button>
                        </td>
                </tr>
            </tbody>
        </table>

    </div>

</body>
</html>
